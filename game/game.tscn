[gd_scene load_steps=18 format=3 uid="uid://c5iknbtcn5etf"]

[ext_resource type="Script" path="res://game/game.gd" id="1_7bnle"]
[ext_resource type="Script" path="res://game/CameraFollow.gd" id="3_3s4u8"]
[ext_resource type="Script" path="res://player/hurtbox.gd" id="4_2irw5"]
[ext_resource type="Texture2D" uid="uid://dituy55711xqj" path="res://textures/environment/background.png" id="5_jwoyd"]
[ext_resource type="Texture2D" uid="uid://c6iy4oed0sfwn" path="res://textures/environment/volcano1.png" id="6_2q6fu"]
[ext_resource type="Texture2D" uid="uid://b6ar8xnqeolap" path="res://textures/environment/cloud1.png" id="6_q5ob3"]
[ext_resource type="Texture2D" uid="uid://b4ajk8fymqmd4" path="res://textures/environment/cloud2.png" id="7_2qkhw"]
[ext_resource type="Texture2D" uid="uid://chm6gtv8qfnyh" path="res://textures/environment/volcano2.png" id="7_8h3jf"]
[ext_resource type="Texture2D" uid="uid://b8v2imubpvqna" path="res://textures/environment/volcano3.png" id="8_7bdbl"]
[ext_resource type="Texture2D" uid="uid://dnlfjifbk4bai" path="res://textures/environment/cloud3.png" id="8_stbfd"]
[ext_resource type="Texture2D" uid="uid://y1tvw20dtgur" path="res://textures/environment/lava1.png" id="12_rkd4i"]
[ext_resource type="Texture2D" uid="uid://cydhelsyji358" path="res://textures/environment/lava2.png" id="13_0xs1f"]
[ext_resource type="Texture2D" uid="uid://wfvwkbqwnwlo" path="res://textures/environment/lava3.png" id="14_c43d0"]
[ext_resource type="TileSet" uid="uid://chy5q42h7owuw" path="res://textures/tileset/stone_terrain.tres" id="15_k1h8q"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_d2w1s"]

[sub_resource type="SpriteFrames" id="SpriteFrames_mrnqe"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("12_rkd4i")
}, {
"duration": 1.0,
"texture": ExtResource("13_0xs1f")
}, {
"duration": 1.0,
"texture": ExtResource("14_c43d0")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="SpriteFrames" id="SpriteFrames_mbfh5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_2q6fu")
}, {
"duration": 1.0,
"texture": ExtResource("7_8h3jf")
}, {
"duration": 1.0,
"texture": ExtResource("8_7bdbl")
}],
"loop": true,
"name": &"default",
"speed": 3.0
}]

[node name="Game" type="Node2D"]
script = ExtResource("1_7bnle")

[node name="Network" type="Node" parent="."]

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://player/player.tscn", "res://player/hurtbox.tscn")
spawn_path = NodePath("../Network")

[node name="MasterPopup" type="Window" parent="."]
process_mode = 3
initial_position = 1
title = "Master"
size = Vector2i(640, 480)
visible = false
borderless = true

[node name="CenterContainer" type="CenterContainer" parent="MasterPopup"]
offset_left = 4.0
offset_top = 4.0
offset_right = 636.0
offset_bottom = 476.0

[node name="VBoxContainer" type="VBoxContainer" parent="MasterPopup/CenterContainer"]
layout_mode = 2

[node name="Host" type="LineEdit" parent="MasterPopup/CenterContainer/VBoxContainer"]
custom_minimum_size = Vector2(200, 0)
layout_mode = 2
text = "localhost"
placeholder_text = "Host"

[node name="JoinServer" type="Button" parent="MasterPopup/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Join Server"

[node name="HSeparator" type="HSeparator" parent="MasterPopup/CenterContainer/VBoxContainer"]
layout_mode = 2

[node name="CreateServer" type="Button" parent="MasterPopup/CenterContainer/VBoxContainer"]
layout_mode = 2
text = "Create Server"

[node name="Spawns" type="Node" parent="."]

[node name="Marker2D" type="Marker2D" parent="Spawns"]
position = Vector2(-643, -250)

[node name="Marker2D2" type="Marker2D" parent="Spawns"]
position = Vector2(646, -244)

[node name="Marker2D3" type="Marker2D" parent="Spawns"]
position = Vector2(0, -1030)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(61, -1207)
zoom = Vector2(0.75, 0.75)
limit_left = -1900
limit_right = 1900
limit_bottom = 0
position_smoothing_enabled = true
script = ExtResource("3_3s4u8")

[node name="DeathArea" type="Area2D" parent="."]
script = ExtResource("4_2irw5")
damage = 9999

[node name="CollisionShape2D" type="CollisionShape2D" parent="DeathArea"]
shape = SubResource("WorldBoundaryShape2D_d2w1s")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="DeathArea"]
position = Vector2(0, -57)
sprite_frames = SubResource("SpriteFrames_mrnqe")
autoplay = "default"

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0, 0)

[node name="Background" type="Sprite2D" parent="ParallaxBackground/Sky"]
position = Vector2(771.556, 433)
scale = Vector2(0.8, 0.8)
texture = ExtResource("5_jwoyd")

[node name="Clouds" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.1, 0.1)

[node name="Cloud1" type="Sprite2D" parent="ParallaxBackground/Clouds"]
position = Vector2(91, 586)
scale = Vector2(1.73224, 1.73224)
texture = ExtResource("6_q5ob3")

[node name="Cloud2" type="Sprite2D" parent="ParallaxBackground/Clouds"]
position = Vector2(111, 255)
texture = ExtResource("7_2qkhw")

[node name="Cloud3" type="Sprite2D" parent="ParallaxBackground/Clouds"]
position = Vector2(1349, 499)
texture = ExtResource("8_stbfd")

[node name="Background" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.2, 0.2)

[node name="Volcano1" type="AnimatedSprite2D" parent="ParallaxBackground/Background"]
position = Vector2(571, 198)
scale = Vector2(0.461574, 0.461574)
sprite_frames = SubResource("SpriteFrames_mbfh5")
autoplay = "default"
frame_progress = 0.616144

[node name="Clouds2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.3, 0.3)

[node name="Cloud1" type="Sprite2D" parent="ParallaxBackground/Clouds2"]
position = Vector2(-75, 387)
texture = ExtResource("6_q5ob3")

[node name="Cloud2" type="Sprite2D" parent="ParallaxBackground/Clouds2"]
position = Vector2(209, -21)
texture = ExtResource("7_2qkhw")

[node name="Cloud3" type="Sprite2D" parent="ParallaxBackground/Clouds2"]
position = Vector2(1186, 473)
texture = ExtResource("8_stbfd")

[node name="Clouds3" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.4, 0.4)

[node name="Cloud1" type="Sprite2D" parent="ParallaxBackground/Clouds3"]
position = Vector2(775, -737)
scale = Vector2(0.944946, 0.96185)
texture = ExtResource("6_q5ob3")

[node name="Cloud2" type="Sprite2D" parent="ParallaxBackground/Clouds3"]
position = Vector2(1558, -490)
texture = ExtResource("7_2qkhw")

[node name="Cloud3" type="Sprite2D" parent="ParallaxBackground/Clouds3"]
position = Vector2(-225, -628)
scale = Vector2(0.613701, 0.613701)
texture = ExtResource("8_stbfd")

[node name="TileMap" type="TileMap" parent="."]
z_index = 1
scale = Vector2(0.5, 0.5)
tile_set = ExtResource("15_k1h8q")
format = 2
layer_0/tile_data = PackedInt32Array(-4, 65536, 3, -3, 65536, 3, -5, 65536, 3, -6, 65536, 3, -7, 65536, 3, -8, 0, 3, -2, 65536, 2, -65538, 0, 0, -65537, 65536, 0, -131072, 65536, 0, -131071, 131072, 3, -65534, 0, 3, -65533, 65536, 3, -65532, 65536, 3, -65531, 65536, 3, -65530, 65536, 3, -65536, 131072, 2, -1, 65536, 2, -196599, 0, 3, -196598, 65536, 3, -196597, 131072, 3, -262133, 0, 3, -262132, 131072, 0, -196596, 196608, 1, -131060, 196608, 2, -393215, 131072, 3, -393216, 65536, 3, -327681, 65536, 3, -327682, 0, 3, -196612, 131072, 3, -196613, 65536, 3, -196614, 0, 3, -262141, 0, 3, -262140, 65536, 3, -262139, 131072, 3, -131082, 131072, 3, -131083, 65536, 0, -131084, 65536, 1, -196620, 131072, 0, -196621, 0, 0, -131085, 0, 2, -65547, 131072, 1, -11, 131072, 2, -12, 65536, 2, -65548, 0, 1, -13, 0, 3, -65526, 196608, 3, -65529, 131072, 3)

[connection signal="pressed" from="MasterPopup/CenterContainer/VBoxContainer/JoinServer" to="." method="_on_connect_pressed"]
[connection signal="pressed" from="MasterPopup/CenterContainer/VBoxContainer/CreateServer" to="." method="_on_host_pressed"]
